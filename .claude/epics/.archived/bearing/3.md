---
name: Utility Migration
status: closed
created: 2026-01-31T14:36:57Z
updated: 2026-01-31T14:42:57Z
github: https://github.com/rknuus/Bearing/issues/3
depends_on: [2]
parallel: false
conflicts_with: []
---

# Task: Utility Migration

## Description
Migrate the VersioningUtility from EisenKan to Bearing. Adapt file paths and interfaces for Bearing's data structure. This utility provides git-based versioning for all planning data.

## Acceptance Criteria
- [ ] VersioningUtility copied to `internal/utilities/`
- [ ] Imports and package paths updated for Bearing
- [ ] Unit tests pass in new location
- [ ] Can initialize a git repository for planning data
- [ ] Can commit file changes atomically via transactions
- [ ] Can retrieve file history

## Technical Details
- Source: `tmp/eisenkan/internal/utilities/versioning.go`
- Target: `internal/utilities/versioning.go`
- Update package name from `utilities` (keep same)
- Verify go-git dependency in go.mod
- Keep IRepository and ITransaction interfaces intact
- Test with sample JSON files

### Key Interfaces to Preserve
```go
type IRepository interface {
    Path() string
    Status() (*RepositoryStatus, error)
    Begin() (ITransaction, error)
    GetHistory(limit int) ([]CommitInfo, error)
    // ... other methods
}

type ITransaction interface {
    Stage(patterns []string) error
    Commit(message string) (string, error)
    Cancel() error
}
```

## Dependencies
- [ ] Task #2: Project Setup

## Effort Estimate
- Size: S
- Hours: 2-4
- Parallel: false

## Definition of Done
- [ ] VersioningUtility compiles in new location
- [ ] Existing unit tests pass
- [ ] Integration test: create repo, stage file, commit, verify history
- [ ] No EisenKan-specific code remaining
