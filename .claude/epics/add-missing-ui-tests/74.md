---
name: Add E2E workflow tests
status: open
created: 2026-02-08T11:55:38Z
updated: 2026-02-08T11:58:00Z
github: https://github.com/rknuus/Bearing/issues/74
depends_on: []
parallel: true
conflicts_with: []
---

# Task: Add E2E workflow tests

## Description
Create `tests/ui-component/view-workflows.test.js` with Playwright E2E tests that exercise real user workflows across views. Follow the existing `app-lifecycle.test.js` pattern: launch Chromium, navigate to Vite dev server, use `TestReporter` and `waitForServers` from test-helpers.js.

## Acceptance Criteria
- [ ] Test file created at `tests/ui-component/view-workflows.test.js`
- [ ] >= 4 new workflow test cases
- [ ] Tests pass via `make test-frontend-e2e-headless`
- [ ] Test file registered in `run-all-tests.js` runner

## Technical Details

**Test cases (minimum 4):**
1. **OKR workflow:** Navigate to OKRs, create a new theme via the form, verify it appears in the theme list
2. **Calendar workflow:** Navigate to Calendar, click a day cell, fill in the edit dialog, save, verify the cell is updated
3. **Task workflow:** Navigate to Tasks, create a task via the dialog, verify it appears in the todo column
4. **Keyboard navigation:** Use Ctrl+1/2/3 shortcuts to switch between views, verify correct view renders each time

**Optional additional tests:**
5. State persistence: navigate to OKRs, reload page, verify OKRs view is restored
6. Cross-view: create a theme in OKR view, navigate to Calendar, verify theme appears in legend

**Pattern to follow (from app-lifecycle.test.js):**
- Import `chromium` from `@playwright/test`
- Import `TEST_CONFIG`, `TestReporter`, `waitForServers` from `./test-helpers.js`
- Export `async function runTests()` and call at bottom
- Use `reporter.startTest()`, `reporter.pass()`, `reporter.fail()` pattern
- Use `page.waitForSelector()` for async content

**Files affected:**
- `tests/ui-component/view-workflows.test.js` (new file)
- `tests/ui-component/run-all-tests.js` (add import for new test file)

## Dependencies
- [ ] Vite dev server running (`make frontend-dev`)
- [ ] Playwright browsers installed (`make test-frontend-e2e-install`)

## Effort Estimate
- Size: M
- Parallel: true

## Definition of Done
- [ ] Code implemented
- [ ] Tests written and passing
- [ ] Registered in test runner
