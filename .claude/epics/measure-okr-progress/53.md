---
name: Frontend progress rendering, editing, and mock bindings
status: open
created: 2026-02-07T19:10:53Z
updated: 2026-02-07T19:13:15Z
github: https://github.com/rknuus/Bearing/issues/53
depends_on: [52]
parallel: false
conflicts_with: [52]
---

# Task: Frontend progress rendering, editing, and mock bindings

## Description

Update the OKRView to display KR progress inline (checkbox for binary, progress bar for numeric, over-achievement styling) and allow quick `currentValue` editing. Extend the KR edit form to accept `startValue` and `targetValue`. Update mock bindings and mock data for browser testing.

## Acceptance Criteria

- [ ] `KeyResult` interface in OKRView has `startValue`, `currentValue`, `targetValue` (number) fields
- [ ] KRs with `targetValue == 0` display as today (no progress indicator) — backward compatible
- [ ] KRs with `targetValue == 1 && startValue == 0` render a checkbox; clicking toggles `currentValue` between 0 and 1 via `UpdateKeyResultProgress`
- [ ] KRs with `targetValue > 1` render a compact progress bar with "current / target" label
- [ ] KRs with `currentValue > targetValue` show distinct over-achievement styling (e.g., different progress bar color)
- [ ] KR edit form (inline edit mode) includes optional `startValue` and `targetValue` number inputs alongside description
- [ ] Numeric KRs have an inline input or click-to-edit control for updating `currentValue` without opening full edit
- [ ] Mock bindings in `wails-mock.ts`: `UpdateKeyResultProgress` implemented, mock KR data includes progress fields, some mock KRs have non-zero targets for testing
- [ ] `make frontend-lint` passes
- [ ] `make frontend-check` passes
- [ ] Both browser mock environment (`make frontend-dev`) and native app work correctly

## Technical Details

### Files modified
- `frontend/src/views/OKRView.svelte` — Type update, KR rendering template, edit form, quick progress update functions
- `frontend/src/lib/wails-mock.ts` — Add `UpdateKeyResultProgress` mock, update mock KR data with progress fields

### Rendering logic (in KR template)
```
if targetValue == 0 → show description only (no change)
else if targetValue == 1 && startValue == 0 → checkbox
else → progress bar with "currentValue / targetValue" and percentage
if currentValue > targetValue → over-achievement class
```

### Progress bar percentage computation
```
percentage = ((currentValue - startValue) / (targetValue - startValue)) * 100
```
Clamp display to 0% minimum. Over 100% is allowed and styled distinctly.

### Quick update flow
- Binary: `onclick` on checkbox → call `UpdateKeyResultProgress(kr.id, kr.currentValue === 0 ? 1 : 0)` → reload themes
- Numeric: inline number input → `onchange` → call `UpdateKeyResultProgress(kr.id, newValue)` → reload themes

### Mock data updates
Add variety to mock KRs:
- At least one untracked KR (target=0)
- At least one binary KR (target=1, current=0)
- At least one binary KR completed (target=1, current=1)
- At least one numeric KR in progress (e.g., current=5, target=12)
- At least one over-achieved KR (e.g., current=15, target=12)

## Dependencies
- [ ] #52 — Backend model and `UpdateKeyResultProgress` binding must exist

## Effort Estimate
- Size: M
- Hours: 2-3
- Parallel: false
