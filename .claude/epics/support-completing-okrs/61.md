---
name: Add complete/reopen/archive action buttons and visual styling to OKRView
status: open
created: 2026-02-07T20:01:06Z
updated: 2026-02-07T20:02:00Z
github: https://github.com/rknuus/Bearing/issues/61
depends_on: [059]
parallel: false
conflicts_with: [063]
---

# Task: Add complete/reopen/archive action buttons and visual styling to OKRView

## Description
Add status-dependent action buttons to each Objective and Key Result in the OKR view. Active items show a "Complete" button. Completed items show "Reopen" and "Archive" buttons. Archived items show a "Reopen" button. Completed and archived items render with dimmed opacity and struck-through text. When completing an Objective with active children, display the error message returned by the backend.

## Acceptance Criteria
- [ ] Active Objectives/KRs show a checkmark "Complete" button in their action buttons
- [ ] Completed Objectives/KRs show "Reopen" and "Archive" buttons
- [ ] Archived Objectives/KRs show only "Reopen" button
- [ ] Clicking "Complete" calls `SetObjectiveStatus(id, "completed")` or `SetKeyResultStatus(id, "completed")`
- [ ] Clicking "Reopen" calls `Set*Status(id, "active")`
- [ ] Clicking "Archive" calls `Set*Status(id, "archived")`
- [ ] On error (e.g., completing Objective with active children), error is displayed in the error banner
- [ ] Completed items have CSS: `opacity: 0.5; text-decoration: line-through` on the item name
- [ ] Archived items have the same dimmed styling as completed items
- [ ] Action buttons refresh the theme list after status change
- [ ] Edit/delete actions still work on completed/archived items

## Technical Details
- File: `frontend/src/views/OKRView.svelte`
- Add async functions: `setObjectiveStatus(id, status)` and `setKeyResultStatus(id, status)` calling `getBindings().SetObjectiveStatus(...)` / `getBindings().SetKeyResultStatus(...)`
- Add CSS classes `.completed` and `.archived` to objective-item, kr-item containers
- Use conditional class binding: `class:completed={objective.status === 'completed'}` etc.
- Action buttons go in the existing `.item-actions` div, conditionally rendered based on status
- Use a helper: `isActive(status)` returns true if status is undefined, empty, or "active"

## Dependencies
- [ ] Task 059 (interfaces and mock bindings must be ready)

## Effort Estimate
- Size: M
- Parallel: false (depends on 059)

## Definition of Done
- [ ] Code implemented
- [ ] Visual styling correct for all three states
- [ ] Actions work in both Wails and browser mock environments
- [ ] Frontend linter passes (`make frontend-lint`)
- [ ] Type checks pass (`make frontend-check`)
