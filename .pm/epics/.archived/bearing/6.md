---
name: OKR View
status: closed
created: 2026-01-31T14:36:57Z
updated: 2026-01-31T14:42:57Z
github: https://github.com/rknuus/Bearing/issues/6
depends_on: [4, 5]
parallel: true
conflicts_with: [7, 8]
---

# Task: OKR View

## Description
Implement the long-term planning view for managing Life Themes, Objectives, and Key Results. This view displays the hierarchical OKR structure with theme colors and supports CRUD operations.

## Acceptance Criteria
- [ ] Display list of Life Themes with colors
- [ ] Expand theme to show Objectives
- [ ] Expand Objective to show Key Results
- [ ] Create/Edit/Delete Life Themes with color picker
- [ ] Create/Edit/Delete Objectives within themes
- [ ] Create/Edit/Delete Key Results within objectives
- [ ] Hierarchical IDs displayed on all items
- [ ] Theme color visible throughout hierarchy

## Technical Details

### OKRView.svelte Structure
```svelte
<script lang="ts">
  import { Breadcrumb, ThemeBadge } from '$lib/components';
  import { getThemes, saveTheme, deleteTheme } from '$lib/api';

  let themes = $state<LifeTheme[]>([]);
  let expandedTheme = $state<string | null>(null);
  let expandedOKR = $state<string | null>(null);

  onMount(async () => {
    themes = await getThemes();
  });
</script>

<div class="okr-view">
  <header>
    <h1>Life Themes & OKRs</h1>
    <button onclick={createTheme}>+ New Theme</button>
  </header>

  {#each themes as theme}
    <div class="theme-card" style="--theme-color: {theme.color}">
      <ThemeBadge color={theme.color} />
      <span class="theme-id">{theme.id}</span>
      <h2>{theme.name}</h2>
      <!-- Expandable objectives... -->
    </div>
  {/each}
</div>
```

### Wails Bindings
```go
// In PlanningManager
func (m *PlanningManager) GetThemes() ([]LifeTheme, error)
func (m *PlanningManager) CreateTheme(name, color string) (*LifeTheme, error)
func (m *PlanningManager) UpdateTheme(theme LifeTheme) error
func (m *PlanningManager) DeleteTheme(id string) error
func (m *PlanningManager) CreateObjective(themeId, title string) (*Objective, error)
func (m *PlanningManager) CreateKeyResult(okrId, description string) (*KeyResult, error)
```

### Color Picker
- Use a predefined palette of 8-10 colors for MVP
- Colors should be distinct and accessible

### Visual Design
- Accordion-style expansion for hierarchy
- Indentation shows parent-child relationships
- Edit/Delete buttons appear on hover
- Inline editing for quick updates

## Dependencies
- [ ] Task #4: Data Model (LifeTheme, Objective, KeyResult structs)
- [ ] Task #5: Linking Components (ThemeBadge, color propagation)

## Effort Estimate
- Size: M
- Hours: 8-12
- Parallel: true (can run with #7, #8 but may have merge conflicts)

## Definition of Done
- [ ] All CRUD operations work for themes, objectives, key results
- [ ] Theme colors display correctly
- [ ] Hierarchical IDs visible
- [ ] Data persists across app restarts
- [ ] Changes committed to git automatically
