---
name: Create E2E smoke test for app lifecycle
status: closed
created: 2026-02-07T16:31:23Z
updated: 2026-02-07T16:35:13Z
github: https://github.com/rknuus/Bearing/issues/48
depends_on: [46]
parallel: false
conflicts_with: []
---

# Task: Create E2E smoke test for app lifecycle

## Description
Create at least one Playwright E2E test that verifies the Bearing app loads and basic navigation works against the Vite dev server with mock bindings (`localhost:5173`). Update `run-all-tests.js` to include this test.

## Acceptance Criteria
- [ ] `tests/ui-component/app-lifecycle.test.js` created with at least 3 test cases
- [ ] Test verifies: app loads without errors, default view renders, navigation between views works
- [ ] Test uses `TestReporter` and `waitForServers` from `test-helpers.js`
- [ ] Test has error listeners for `pageerror` and unexpected console errors
- [ ] `run-all-tests.js` updated to import and run `app-lifecycle.test.js`
- [ ] `make test-ui-component` passes when `make frontend-dev` is running
- [ ] `make test-ui-component-headless` passes in headless mode

## Technical Details
- Reference: `tmp/eisenkan/tests/ui-component/app-lifecycle.test.js` for the pattern
- Bearing's main views: OKR view, Calendar view, EisenKan view — test that at least one renders
- The mock environment auto-loads sample data from `wails-mock.ts` — test can assert on rendered theme names or view containers
- Use `page.waitForSelector()` with explicit timeouts for state-based waiting (no arbitrary sleeps)
- Pattern: `chromium.launch()` → `browser.newPage()` → `page.goto(TEST_CONFIG.WAILS_DEV_URL)` → assertions → `browser.close()`
- Helper functions for common operations (navigating to a view, waiting for load)
- Cleanup in try/catch/finally blocks

## Dependencies
- [ ] Task 46 (E2E infrastructure must exist)
- [ ] `make frontend-dev` must be running for tests to execute

## Effort Estimate
- Size: M
- Hours: 2-3
- Parallel: false (depends on 46)
