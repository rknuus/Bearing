---
name: Add App.svelte unit tests
status: open
created: 2026-02-08T11:55:38Z
updated: 2026-02-08T11:58:00Z
github: https://github.com/rknuus/Bearing/issues/73
depends_on: []
parallel: true
conflicts_with: []
---

# Task: Add App.svelte unit tests

## Description
Create `frontend/src/App.test.ts` with unit tests for the main application shell: view routing, keyboard shortcuts, cross-view navigation callbacks, and navigation context persistence.

## Acceptance Criteria
- [ ] Test file created at `frontend/src/App.test.ts`
- [ ] >= 6 test cases covering routing, shortcuts, and persistence
- [ ] Tests pass via `make test-frontend`
- [ ] No lint warnings via `make frontend-lint`

## Technical Details

**Mock bindings needed:** All bindings (App.svelte renders child views which call their own APIs). Use a comprehensive `makeMockBindings()` that stubs all APIs with safe defaults.

**Test cases (minimum 6):**
1. Renders home view by default with welcome message and nav links
2. Clicking nav links switches between views (OKR, Calendar, Tasks)
3. Active nav link updates to reflect current view
4. Keyboard shortcuts switch views (Ctrl+1 → OKRs, Ctrl+2 → Calendar, Ctrl+3 → Tasks)
5. Navigation context is loaded from backend on mount (restores last view)
6. Navigation context is saved when view changes

**Optional additional tests:**
7. Backspace navigates up (clears filter, then goes home)
8. Breadcrumb renders current view name

**Key selectors:**
- `.app-container` — root container
- `.navigation` — nav bar
- `.nav-link` — nav buttons (with `.active` modifier)
- `.placeholder-view` — home view
- `.scrollable-view` — OKR/components wrapper
- `.breadcrumb-bar` — breadcrumb container
- `.quick-nav-btn` — home page quick navigation buttons

**Files affected:** `frontend/src/App.test.ts` (new file)

## Dependencies
- [ ] None — uses existing mock bindings pattern

## Effort Estimate
- Size: M
- Parallel: true

## Definition of Done
- [ ] Code implemented
- [ ] Tests written and passing
- [ ] Lint passes
