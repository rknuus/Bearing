---
name: Wire locale initialization into app startup and mock bindings
status: open
created: 2026-02-13T16:12:10Z
updated: 2026-02-13T16:12:10Z
github: [Will be updated when synced to GitHub]
depends_on: [001, 002]
parallel: false
conflicts_with: []
---

# Task: Wire locale initialization into app startup and mock bindings

## Description
Connect the Go `GetLocale()` backend method to the frontend by adding it to mock bindings, calling `initLocale()` during app startup in `App.svelte`, and ensuring the locale is initialized before any views render.

## Acceptance Criteria
- [ ] `GetLocale` added to `mockAppBindings` in `wails-mock.ts`, returning `navigator.language`
- [ ] `initLocale()` called in `App.svelte` during startup, before views render
- [ ] Locale initialization uses `getBindings().GetLocale()` to fetch the locale string
- [ ] App continues to work if `GetLocale()` fails (falls back gracefully)
- [ ] Existing App.svelte tests pass
- [ ] Both native app and browser-based test app initialize locale correctly

## Technical Details
- In `wails-mock.ts`: add `GetLocale: async (): Promise<string> => navigator.language` to `mockAppBindings`
- In `App.svelte`: call `initLocale(await getBindings().GetLocale())` during the existing startup/loading phase
- Ensure `initLocale()` completes before the loading state clears and views render
- Wrap in try/catch â€” if locale fetch fails, call `initLocale('en-US')` as fallback

## Dependencies
- [ ] Task 001: `GetLocale()` Go method must exist
- [ ] Task 002: `date-format.ts` module with `initLocale()` must exist

## Effort Estimate
- Size: XS
- Hours: 1
- Parallel: false
