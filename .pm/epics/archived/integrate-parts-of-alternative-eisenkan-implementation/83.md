---
name: Create Eisenhower quadrant CreateTaskDialog
status: open
created: 2026-02-08T14:54:43Z
updated: 2026-02-08T14:59:38Z
github: https://github.com/rknuus/Bearing/issues/83
depends_on: [001, 002]
parallel: true
conflicts_with: []
---

# Task: Create Eisenhower quadrant CreateTaskDialog

## Description

Replace the existing simple task creation dialog with a 4-quadrant Eisenhower interface. New tasks are typed into a staging area (Q4 / not-important-not-urgent), then dragged to the appropriate quadrant to assign priority. Multiple tasks can be staged and prioritized before batch creation. Tasks left in staging are discarded on "Done". Uses svelte-dnd-action for drag between quadrants.

## Acceptance Criteria

- [ ] `CreateTaskDialog.svelte` component created in `frontend/src/components/` (replaces inline dialog in EisenKanView)
- [ ] Dialog shows a 4-quadrant Eisenhower grid: Q1 (urgent+important), Q2 (important, not urgent), Q3 (urgent, not important), Q4 (staging/not important, not urgent)
- [ ] Text input at top for entering task titles; Enter key adds task to staging (Q4)
- [ ] Tasks can be dragged between quadrants using svelte-dnd-action
- [ ] "Done" button creates all tasks in Q1/Q2/Q3 quadrants via `CreateTask` API (batch, sequential calls)
- [ ] Tasks remaining in Q4 (staging) are discarded on "Done"
- [ ] "Cancel" button discards all pending tasks and closes dialog
- [ ] Each quadrant shows label and color matching EisenKan priority scheme (Red/Blue/Amber/Grey)
- [ ] Supports creating multiple tasks in a single session
- [ ] Disable form during batch submission (`isSubmitting` state)
- [ ] Error handling: if one task fails, stop and show error, don't lose already-entered tasks
- [ ] Works in both Wails native and browser mock variants
- [ ] Unit tests for staging, drag between quadrants, batch creation, discard on cancel

## Technical Details

**New files:**
- `frontend/src/components/CreateTaskDialog.svelte` — main dialog with quadrant grid
- `frontend/src/components/EisenhowerQuadrant.svelte` — individual quadrant drop zone (reused 4 times)
- `frontend/src/components/CreateTaskDialog.test.ts` — unit tests

**Files to modify:**
- `frontend/src/views/EisenKanView.svelte` — replace inline create dialog with `CreateTaskDialog` component; pass themes, callbacks
- `frontend/src/lib/wails-mock.ts` — ensure `CreateTask` mock supports new fields (description, tags, etc.)

**Key considerations:**
- svelte-dnd-action needs `id` field on items — use temporary IDs for pending tasks (e.g., `pending-{counter}`)
- `PendingTask` type: `{ id: string, title: string }` — lightweight, not yet persisted
- Each quadrant maps to a priority: `{ urgent: bool, important: bool }`
- On "Done", iterate Q1→Q2→Q3 quadrants and call `CreateTask` for each pending task
- Theme selection: default to previously used theme or first theme; optionally per-task
- Follow reference's `EisenhowerQuadrant.svelte` for dndzone integration

**Reference:** `tmp/eisenkan/frontend/src/components/CreateTasksDialog.svelte` and `EisenhowerQuadrant.svelte`

## Dependencies

- [ ] Task 001 — CreateTask API with new fields
- [ ] Task 002 — rule engine for validation on create

## Effort Estimate

- Size: L
- Parallel: true — can run alongside tasks 003, 004, 006
