---
name: Dynamic board configuration rendering and subtask nesting UI
status: open
created: 2026-02-08T14:54:43Z
updated: 2026-02-08T14:59:38Z
github: https://github.com/rknuus/Bearing/issues/84
depends_on: [001, 002, 003]
parallel: true
conflicts_with: [003]
---

# Task: Dynamic board configuration rendering and subtask nesting UI

## Description

Replace the hardcoded column/section definitions in EisenKanView with dynamic rendering from the backend `GetBoardConfiguration` API. Add visual subtask nesting: child tasks indented under their parent with collapsible groups. Add an ErrorDialog component for displaying rule violation feedback from failed moves or creates.

## Acceptance Criteria

- [ ] EisenKanView fetches board configuration from `GetBoardConfiguration` on mount
- [ ] Columns rendered dynamically from config (not hardcoded `todo`/`doing`/`done` constants)
- [ ] Todo column shows Eisenhower sections from config (Q1/Q2/Q3 sections within the column)
- [ ] Each section is a separate svelte-dnd-action drop zone
- [ ] Column headers show name and task count from config
- [ ] Subtasks visually nested under parent tasks (indented, smaller card style)
- [ ] Parent tasks show expand/collapse toggle for subtasks
- [ ] Subtask creation: option to create a task as a child of an existing task
- [ ] `ErrorDialog.svelte` component created for displaying rule violations
- [ ] ErrorDialog shows: violation message, category, suggested action
- [ ] ErrorDialog triggered automatically on failed moves/creates
- [ ] Mock bindings updated: `GetBoardConfiguration` returns config with 3 columns and Eisenhower sections
- [ ] Works in both Wails native and browser mock variants
- [ ] Unit tests for dynamic rendering, subtask nesting, ErrorDialog

## Technical Details

**New files:**
- `frontend/src/components/ErrorDialog.svelte` — rule violation display
- `frontend/src/components/ErrorDialog.test.ts` — unit tests

**Files to modify:**
- `frontend/src/views/EisenKanView.svelte` — fetch config on mount; replace hardcoded columns array with config-driven rendering; add subtask nesting; integrate ErrorDialog
- `frontend/src/lib/wails-mock.ts` — add `GetBoardConfiguration` mock returning default config

**Key considerations:**
- Board config shape: `{ columns: [{ id, name, type, wipLimit?, sections?: [{ id, name, color }] }] }`
- Todo column has `sections` for each Eisenhower quadrant; doing/done have no sections
- Each section in todo is a separate dndzone — tasks within a section sorted by priority
- Subtask nesting: filter tasks by `parentTaskID === null` for top-level, render children inline beneath
- Collapsed state stored in component-local `$state` (not persisted)
- ErrorDialog auto-dismisses after timeout or manual close

**Reference:** `tmp/eisenkan/frontend/src/components/KanbanBoard.svelte` for dynamic config rendering; `tmp/eisenkan/frontend/src/components/KanbanColumn.svelte` and `KanbanSection.svelte` for section-based drop zones

## Dependencies

- [ ] Task 001 — GetBoardConfiguration API
- [ ] Task 002 — rule engine for violation messages
- [ ] Task 003 — svelte-dnd-action installed and basic drag-drop working

## Effort Estimate

- Size: L
- Parallel: true — can run alongside tasks 004, 005 (conflicts with 003 on EisenKanView.svelte)
