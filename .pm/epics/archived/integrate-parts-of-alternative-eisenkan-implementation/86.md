---
name: Update mock bindings, tests, and verify cross-view interop
status: open
created: 2026-02-08T14:54:43Z
updated: 2026-02-08T14:59:38Z
github: https://github.com/rknuus/Bearing/issues/86
depends_on: [001, 002, 003, 004, 005, 006]
parallel: false
conflicts_with: []
---

# Task: Update mock bindings, tests, and verify cross-view interop

## Description

Final verification task. Ensure all mock bindings in `wails-mock.ts` cover the full new API surface. Run all linting, type checking, and tests. Verify that OKR view theme navigation and Calendar date navigation still work correctly with EisenKan filtering. Ensure no regressions in existing functionality.

## Acceptance Criteria

- [ ] `wails-mock.ts` covers all new APIs: UpdateTask (with new fields), GetBoardConfiguration, ProcessPriorityPromotions, ValidateTask, MoveTask (with MoveTasksResult)
- [ ] Mock task storage includes new fields (description, tags, dueDate, promotionDate, parentTaskID, timestamps)
- [ ] Mock `MoveTask` supports configurable failure for testing rollback
- [ ] All Go unit tests pass (`make test`)
- [ ] All frontend lint checks pass (`make frontend-lint`)
- [ ] All TypeScript type checks pass (`make frontend-check`)
- [ ] All frontend unit tests pass (Vitest)
- [ ] OKR view → EisenKan navigation with `filterThemeId` works
- [ ] Calendar view → EisenKan navigation with `filterDate` works
- [ ] EisenKan → OKR theme navigation (task footer button) works
- [ ] EisenKan → Calendar day navigation (task footer button) works
- [ ] EisenKan context menu cross-view navigation works
- [ ] Breadcrumb filtering and "Clear" button work
- [ ] `ProcessPriorityPromotions` called on app startup (via mock in browser mode)
- [ ] No console errors or uncaught exceptions in browser dev tools
- [ ] E2E happy-path tests only; no systematic corner case/error case E2E tests

## Technical Details

**Files to verify/modify:**
- `frontend/src/lib/wails-mock.ts` — complete API coverage
- `frontend/src/views/EisenKanView.test.ts` — updated for new components and interactions
- `frontend/src/App.svelte` — verify navigation callbacks still pass correct props
- `internal/integration/integration_test.go` — add integration tests for new task flows
- All new component test files from tasks 003-006

**Key considerations:**
- Cross-view interop uses props (`filterThemeId`, `filterDate`) and callbacks (`onNavigateToTheme`, `onNavigateToDay`) — verify these still flow through correctly after EisenKanView refactoring
- Mock bindings must match the real Wails binding signatures exactly
- Priority promotion mock should return a list of promoted tasks for UI testing
- Verify the app works in all three dev environments: native (WebView IPC), localhost:34115 (Wails dev proxy), localhost:5173 (Vite with mocks)

## Dependencies

- [ ] All previous tasks (001-006) completed

## Effort Estimate

- Size: M
- Parallel: false — final verification requires all other work complete
