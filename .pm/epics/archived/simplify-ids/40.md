---
name: Update Go unit tests
status: done
created: 2026-02-07T14:30:24Z
updated: 2026-02-07T14:33:28Z
github: https://github.com/rknuus/Bearing/issues/40
depends_on: [36]
parallel: true
conflicts_with: []
---

# Task: Update Go unit tests

## Description
Update all unit test assertions in `plan_access_test.go` to expect the new flat ID format and verify `parentId` is set correctly.

## Acceptance Criteria
- [ ] `TestSaveTheme_NewTheme` expects `THEME-1`, `OBJ-1`, `KR-1` (no padding)
- [ ] `TestHierarchicalIDGeneration` rewritten to test flat IDs + parentId
- [ ] `TestRecursiveObjectiveIDGeneration` updated for global OBJ counters + parentId
- [ ] `TestRecursiveIDGeneration_PreservesExistingIDs` updated for new format
- [ ] Task ID tests expect `TASK-N` format
- [ ] All unit tests pass

## Technical Details

**Files affected:**
- `internal/access/plan_access_test.go`

**Key assertion changes:**
- `"THEME-01"` → `"THEME-1"`
- `"THEME-01.OKR-01"` → `"OBJ-1"` with `ParentID == "THEME-1"`
- `"THEME-01.OKR-01.KR-01"` → `"KR-1"` with `ParentID == "OBJ-1"`
- `"THEME-01.OKR-01.OKR-01"` → `"OBJ-2"` (global counter) with `ParentID == "OBJ-1"`
- `"task-001"` → `"TASK-1"`
- Add assertions for `ParentID` on every objective and key result

## Effort Estimate
- Size: M
- Parallel: true — can run alongside task #41
