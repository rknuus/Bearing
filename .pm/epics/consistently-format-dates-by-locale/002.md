---
name: Create date-format.ts utility module
status: open
created: 2026-02-13T16:12:10Z
updated: 2026-02-13T16:12:10Z
github: [Will be updated when synced to GitHub]
depends_on: []
parallel: true
conflicts_with: []
---

# Task: Create date-format.ts utility module

## Description
Create a new `frontend/src/lib/utils/date-format.ts` module that provides locale-aware date formatting functions using `Intl.DateTimeFormat`. The module caches formatter instances for performance and exposes functions for all date display variants used across the app.

## Acceptance Criteria
- [ ] `date-format.ts` created in `frontend/src/lib/utils/`
- [ ] `initLocale(locale: string)` function that caches locale and creates `Intl.DateTimeFormat` instances
- [ ] `formatDate(iso: string)` — short date (e.g. `15.01.2025`)
- [ ] `formatDateLong(iso: string)` — long date with weekday (e.g. `Mittwoch, 15. Januar 2025`)
- [ ] `formatMonthName(monthIndex: number)` — full locale month name
- [ ] `formatShortMonthName(monthIndex: number)` — abbreviated locale month name
- [ ] `formatWeekdayShort(dayIndex: number)` — abbreviated locale weekday name (Mon-indexed for calendar)
- [ ] Formatter instances are cached (created once, not per call)
- [ ] Unit tests cover all functions with a fixed locale (e.g. `de-CH`)
- [ ] Module exported from `frontend/src/lib/utils/index.ts`

## Technical Details
- Use `Intl.DateTimeFormat` with explicit locale parameter for all formatting
- Cache formatter objects at module level after `initLocale()` is called
- `formatDate` parses ISO string to Date, then formats
- Month/weekday functions create a reference Date and format it
- For weekday: index 0 = Monday (matching CalendarView's Mon-Sun convention)
- No external dependencies — built-in `Intl` only

## Dependencies
- [ ] None — can be developed independently with hardcoded locale for testing

## Effort Estimate
- Size: S
- Hours: 3
- Parallel: true
