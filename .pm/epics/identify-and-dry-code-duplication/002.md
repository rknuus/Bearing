---
name: Extract frontend shared utilities and refactor imports
status: done
created: 2026-02-13T15:18:07Z
updated: 2026-02-13T15:26:53Z
github: [Will be updated when synced to GitHub]
depends_on: []
parallel: true
conflicts_with: []
---

# Task: Extract frontend shared utilities and refactor imports

## Description
Create three shared utility/constant files and refactor all Svelte components to import from them instead of defining inline duplicates: `getBindings()`, theme helpers, and priority label constants.

## Acceptance Criteria
- [ ] `frontend/src/lib/utils/bindings.ts` exports `getBindings()` with Wails runtime detection and mock fallback
- [ ] `frontend/src/lib/utils/theme-helpers.ts` exports `getTheme(themes, themeId)` and `getThemeColor(themes, themeId)` with `#6b7280` default
- [ ] `frontend/src/lib/constants/priorities.ts` exports `priorityLabels` mapping
- [ ] All 4 components (`App.svelte`, `CalendarView.svelte`, `EisenKanView.svelte`, `OKRView.svelte`) import `getBindings` from shared utility
- [ ] All 3 components with theme lookups import from shared theme helpers
- [ ] All 3 components with priority labels import from shared constants
- [ ] No local `getBindings`, `getTheme`, `getThemeColor`, or `priorityLabels` definitions remain in components
- [ ] Works in all three dev environments (native app, Wails dev, Vite mock)
- [ ] All existing frontend tests pass (`make test-frontend`)
- [ ] Frontend lint passes (`make frontend-lint`)

## Technical Details

### New files
- `frontend/src/lib/utils/bindings.ts`
- `frontend/src/lib/utils/theme-helpers.ts`
- `frontend/src/lib/constants/priorities.ts`

### Components to refactor
- **getBindings**: `App.svelte`, `CalendarView.svelte`, `EisenKanView.svelte`, `OKRView.svelte`
- **theme helpers**: `EisenKanView.svelte`, `EisenhowerQuadrant.svelte`, `CalendarView.svelte`, `OKRView.svelte` (check all for `getTheme`/`getThemeColor`)
- **priority labels**: `EisenKanView.svelte`, `EisenhowerQuadrant.svelte`, `CreateTaskDialog.svelte` (check all for `priorityLabels`)

### Key considerations
- The `getBindings()` function references `mockAppBindings` from `wails-mock.ts` — the shared utility must import it
- Theme helpers take a `themes` array parameter (not a global) — callers pass their local `themes` state
- Verify the exact type signatures match what components expect (TypeScript strictness)
- Check `frontend/src/lib/wails/` for any Wails-generated type imports needed

## Dependencies
- None

## Effort Estimate
- Size: M
- Hours: 2
- Parallel: true (independent of Go backend task)
