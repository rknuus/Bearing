---
name: Fix gh issue create --json syntax error
status: closed
created: 2026-02-08T12:39:36Z
updated: 2026-02-08T12:55:04Z
github: https://github.com/rknuus/Bearing/issues/77
depends_on: []
parallel: true
conflicts_with: [79]
---

# Task: Fix gh issue create --json syntax error

## Description
Replace the unsupported `--json number -q .number` flag on `gh issue create` calls with URL-based number extraction (`grep -oE '[0-9]+$'`). Apply to both local copies and the `tmp/ccpm/` fork.

## Acceptance Criteria
- [ ] All 3 `--json number -q .number` occurrences removed from `.claude/ccpm/commands/pm/epic-sync.md`
- [ ] Same fix applied to `.claude/commands/pm/epic-sync.md`
- [ ] Same fix applied to `tmp/ccpm/ccpm/commands/pm/epic-sync.md`
- [ ] `grep -r '\-\-json number' .claude/ccpm/ .claude/commands/ tmp/ccpm/` returns zero matches

## Technical Details

**Current pattern (3 occurrences at ~lines 126, 169, 176):**
```bash
epic_number=$(gh issue create \
  --repo "$REPO" \
  ... \
  --json number -q .number)
```

**Replacement pattern:**
```bash
epic_number=$(gh issue create \
  --repo "$REPO" \
  ... | grep -oE '[0-9]+$')
```

The `gh issue create` command outputs a URL like `https://github.com/owner/repo/issues/42`. The `grep -oE '[0-9]+$'` extracts the trailing number.

**Files affected:**
- `.claude/ccpm/commands/pm/epic-sync.md` (3 occurrences)
- `.claude/commands/pm/epic-sync.md` (3 occurrences)
- `tmp/ccpm/ccpm/commands/pm/epic-sync.md` (3 occurrences)

## Dependencies
- [ ] None

## Effort Estimate
- Size: S
- Parallel: true

## Definition of Done
- [ ] Fix applied to all 3 files
- [ ] Verified with grep that no `--json number` references remain
