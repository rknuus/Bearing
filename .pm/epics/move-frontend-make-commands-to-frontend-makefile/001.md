---
name: Create frontend/Makefile and convert root targets to proxies
status: done
created: 2026-02-13T15:03:10Z
updated: 2026-02-13T15:08:48Z
github: [Will be updated when synced to GitHub]
depends_on: []
parallel: false
conflicts_with: []
---

# Task: Create frontend/Makefile and convert root targets to proxies

## Description
Create a new `frontend/Makefile` containing all frontend build logic currently in the root `Makefile`, then replace the root frontend target bodies with `@$(MAKE) -C frontend <target>` proxy delegations.

## Acceptance Criteria
- [ ] `frontend/Makefile` exists with targets: `help`, `install`, `build`, `check`, `lint`, `dev`, `test`, `e2e-install`, `e2e`, `e2e-headless`
- [ ] `frontend/Makefile` has `help` as default target with formatted output
- [ ] `frontend/Makefile` contains no `cd frontend &&` prefixes (commands run in-place)
- [ ] E2E targets in `frontend/Makefile` use `cd ../tests/ui-component && ...` relative paths
- [ ] Root `Makefile` frontend targets (`frontend-install`, `frontend-build`, `frontend-check`, `frontend-lint`, `frontend-dev`) are single-line `@$(MAKE) -C frontend <target>` proxies
- [ ] Root `Makefile` frontend test targets (`test-frontend`, `test-frontend-e2e`, `test-frontend-e2e-install`, `test-frontend-e2e-headless`) are single-line proxies
- [ ] Root `Makefile` contains zero `cd frontend && npm` commands
- [ ] Root target names, help annotations (`## ...`), and section groupings are preserved
- [ ] Composite root targets (`test`, `lint`, `build`, `dev`, `setup`, `generate`) still work through proxy dependencies

## Technical Details

### Files affected
- **New**: `frontend/Makefile`
- **Modified**: `Makefile` (root)

### Target mapping (root → frontend)
| Root target | Frontend target | Notes |
|---|---|---|
| `frontend-install` | `install` | |
| `frontend-build` | `build` | Depends on `lint` |
| `frontend-check` | `check` | |
| `frontend-lint` | `lint` | |
| `frontend-dev` | `dev` | |
| `test-frontend` | `test` | Runs check + vitest |
| `test-frontend-e2e-install` | `e2e-install` | Uses `../tests/ui-component/` |
| `test-frontend-e2e` | `e2e` | Uses `../tests/ui-component/` |
| `test-frontend-e2e-headless` | `e2e-headless` | Uses `../tests/ui-component/` |

### Key considerations
- Use `SHELL := /bin/bash` and `.SHELLFLAGS := -eufo pipefail -c` in frontend Makefile (match root convention)
- The `stop-dev` target stays in root (it kills a port, not frontend-specific build logic)
- The `generate` target stays in root (Wails concern) but its `frontend-install` dependency becomes a proxy
- `frontend-build` in root depends on `frontend-lint` — keep this dependency in root; frontend `build` depends on `lint` internally too

## Dependencies
- None

## Effort Estimate
- Size: S
- Hours: 1
- Parallel: false
