---
name: Refactor EditTaskDialog to use TaskFormFields, add theme, remove priority
status: open
created: 2026-02-11T19:38:44Z
updated: 2026-02-11T19:41:02Z
github: https://github.com/rknuus/Bearing/issues/100
depends_on: [001]
parallel: true
conflicts_with: []
---

# Task: Refactor EditTaskDialog to use TaskFormFields, add theme, remove priority

## Description

Replace inline form fields in EditTaskDialog with the shared `TaskFormFields` component. Add a `themes` prop so the theme selector is available. Remove the priority radio group entirely — save preserves the task's existing priority. Update EisenKanView to pass `themes` to EditTaskDialog.

## Acceptance Criteria

- [ ] EditTaskDialog imports and uses `TaskFormFields`
- [ ] EditTaskDialog accepts a `themes: LifeTheme[]` prop
- [ ] Theme selector is populated and pre-selects the task's current theme
- [ ] Saving a task with a changed theme persists the new `themeId`
- [ ] Priority radio group is removed from the dialog
- [ ] `handleSave` preserves `task.priority` unchanged (no priority field in form)
- [ ] EisenKanView passes `{themes}` to `<EditTaskDialog>`
- [ ] Duplicated `.form-group` and input CSS removed from EditTaskDialog
- [ ] Visual appearance is unchanged (minus removed priority radio)
- [ ] Existing EditTaskDialog tests updated (remove priority assertions, add theme assertions)

## Technical Details

- Add `themes: LifeTheme[]` to EditTaskDialog's `Props` interface
- Add `editThemeId` state variable, populated from `task.themeId` in the `$effect`
- Bind `themeId={editThemeId}` on `<TaskFormFields>`
- In `handleSave`, set `themeId: editThemeId` on the updated task object
- Remove the entire priority radio group div (lines 124–140)
- Remove CSS: `.priority-options`, `.priority-option`, `.priority-label`, `.form-group`, input styles
- In EisenKanView, change `<EditTaskDialog task={selectedTask} ...>` to also pass `{themes}`

### Files affected
- `frontend/src/components/EditTaskDialog.svelte`
- `frontend/src/components/EditTaskDialog.test.ts`
- `frontend/src/views/EisenKanView.svelte` (pass `themes` prop)

## Effort Estimate
- Size: S
- Parallel: true (can run alongside task 002)
